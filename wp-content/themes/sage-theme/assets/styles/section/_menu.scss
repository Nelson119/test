/* Custom page header */

body{
  overflow-x:hidden;
  overflow-y:auto;
  &:before{
    width:100%;
    position:fixed;
    height:0;
    content:'';
    left:0;
    top:0;
    z-index: 11;
    background:#000;
    opacity:0;
    transition: opacity 0.5s linear 0s,height 0s linear 0.5s;
  }
  &.menuon{
    &:before{
      opacity:1;
      height:100%;
      transition: opacity 0.5s linear 0s;
    }
    #mm{
      background-image:url(../images/common/xx.svg);
      background-size:100% 100%;
    }
    .search,.mmenu-head a.logo{
      height:0;
      overflow:hidden;
      opacity:0;
      transition: opacity 0.5s linear 0s,height 0s linear 0.5s;
    }
    #kvm, .page{    
      position: fixed;
      top: 0;
      z-index: 10;
    }
    .page.home {
      position: fixed;
      width: 100%;
    }
    .marquee,.footer{
      position: fixed;
      transform: scaleY(0);
    }
    header .fit .logo, header .fit .marquee{
      // height:0;
      // overflow:hidden;
      // opacity:0;
      // transition: opacity 0.5s linear 0s,height 0s linear 0.5s;
    }

  }
}

.header-buff{
  @media  screen and (max-width: 1170px) {
    margin-top: 40px;
  }
  @media  (min-width: 768px) and (max-width: 1170px) {
    margin-top: 96px;
  }
}
.mmenu-head{
  z-index: 19;
  position:fixed;
  top:0;
  left:0;
  overflow: hidden;
  min-width: 320px;
  display: none;
  height: 40px;
  @media  (min-width: 768px) and (max-width: 1170px) {
    height: 96px;
  }
  @media  screen and (max-width: 1170px) {
    display: block;
  }
  aside{
    background:#000000 url(../images/common/logo.svg) center center / 100% auto;
    height:40px;
    @media  (min-width: 768px) and (max-width: 1170px) {
      padding-top:96px;
    }
  }
  ul{
    opacity:0;
    height:40px;
    li:before{
      height:150px;
    }
    li {
      &.ib-added {
        display: none;
      }
      &:before{
        transition: height 0.5s ease-out 0s;
      }
      a{
        transition: opacity 0.75s ease-out 0s;
      }
    }
  }
  &.on{
    position:relative;
    overflow: visible;
    ul{
      opacity:1;
      transition: opacity 1s linear 0s;
      li:before{
        height:76px!important;
      }
      a{
        opacity:1;
        color:#fff;
      }
    }
    @media  sceen and (min-width: 1170px) {
      display: none;
    }
  }
  &.onsearch{
    @media  sceen and (min-width: 1170px) {
      display: none;
    }
    position:fixed;
    top:0;left:0;
    height:100%;
    width:100%;
    .search_form{
      bottom: 50%;
      display: block;
      left: 50%;
      margin-left: -140px;
      position: absolute;
    }
    ul{
      display: none;
    }
  }
  @media screen and (max-width: 1170px) {
    top:0;
    left:0;
    line-height: 38px;
    display: block;
  }
  @media  (min-width: 768px) and (max-width: 1170px) {
    display: block;
  }
  #mm{
    text-indent: -9999em;
    background: url(../images/common/menu-bar.png) center center / auto 100% no-repeat ;
    display: inline-block;
    width:90px;
    height: 35px;
    position:absolute;
    left: 20px;
    top:35px;
    z-index: 20;
    @media screen and (max-width: 767px) {
      top:8px;
      width:27px;
      height: 22px;
    }
    color:#fff;
    &:before{
      height: 100%;
      vertical-align: middle;
      display: inline-block;
      content:' ';
    }
    vertical-align: middle;
  }
  .search{
    display: inline-block;
    width:90px;
    height: 35px;
    position:absolute;
    right: 5px;
    top:30px;
    z-index: 1;
    img{
      width: 50%;
    }
    @media screen and (max-width: 767px) {
      top:3px;
      width:40px;
    }
    color:#fff;
    &:before{
      height: 100%;
      vertical-align: middle;
      display: inline-block;
      content:' ';
    }
    vertical-align: middle;
  }
  a.logo{
    display: inline-block;
    height: 50px;
    opacity: 0;
    text-align: center;
    transition-duration: 0s;
    transition-delay: 0s;
    // background:rgba(255,255,255,0.8);    
    background: #FFF;
    transform-origin:bottom center 0;
    svg#logo{
      margin-top:1px;
      height: 100%;
      fill:#000;
      transition-duration: 0.25s;
      &:hover,&:focus,&:active{
        fill:$main-active-color;
      }
    }
    img{
      transform: translateY(10px);
      height:50px;
      width:auto;
      transform-origin:bottom center 0;
    }
    @media screen and (max-width: 1170px) {
      background:rgba(0,0,0,0);
      position:fixed;
      top:0;
      left:50%;
      margin-left:-119px;
      height:96px;
      opacity: 1!important;

      svg#logo{
        height:50%;
        top:18%;
        fill:#fff;
        margin:0;
        z-index:50;
        position:relative;
        transition-duration: 0.25s;
        &:hover,&:focus,&:active{
          fill:$main-active-color;
        }
      }
    }
    @media screen and (max-width: 767px) {
      height:40px;
      left:50%;
      margin-left:-60px;
    }
  }
  ul{
    position:relative;
    width:100%;
    height: auto;
    top:0;
    left:0;
    background:#000;
    font-size:  percentage(18/14);
    li {
      display:  block;
      margin:0 15px;
      text-align:center;
      border-bottom:1px solid #181818;
      position:relative;
      &:before{
        display: inline-block;
        vertical-align: middle;
        content:' ';
      }
      >a{
        color:#fff;
        display: inline-block;
        vertical-align: middle;
        opacity:0;
        color:#b5b5b5 !important;
        font-size: 12px;
        line-height: 20px;
        &:hover{
          color:$main-active-color;
        }
        &:before{
          content:attr(title);
          display: block;
          font-size: 18px;
          color:#fff;
        }
      }
      ol {
        height: 0;
        padding:0;
        margin:0;
        overflow: hidden;
        line-height:60px;
        text-align:left;
        width:100%;
        letter-spacing: -1em;
        transform: scaleY(0);
        transform-origin: top center 0;
        transition-duration: 0.5s;
        opacity: 0;
        li{
          display: inline-block;
          width:50%;
          margin:0;
          letter-spacing: 0.2em;
          a{
            font-size: 18px;
            color:#fff;
          }
        }
      }
      &.on{
        >a{
          color:$main-active-color;
        }
        ol{
          opacity: inherit;
          height: auto;
          transform: none;
        }
      }
    }

  }
  .search_form{
    display: none;
    .search_inp {
      background: rgba(0, 0, 0, 0) none repeat scroll 0 0;
      border: 1px solid rgba(255, 255, 255, 0.5);
      border-radius: 0;
      box-sizing: border-box;
      color: #fff;
      display: block;
      float: left;
      font-size: 100%;
      height: 48px;
      letter-spacing: 2px;
      line-height: 48px;
      outline: medium none;
      overflow: hidden;
      padding: 0 0 0 10px;
      width: 232px;
    }
    .search_sub {
      background: transparent url("../images/common/search.svg") center center / auto 60% no-repeat;
      border-color: rgba(255, 255, 255, 0.5) rgba(255, 255, 255, 0.5) rgba(255, 255, 255, 0.5) -moz-use-text-color;
      border-radius: 0;
      border-style: solid solid solid none;
      border-width: 1px 1px 1px 0;
      box-sizing: border-box;
      cursor: pointer;
      display: block;
      float: right;
      height: 48px;
      overflow: hidden;
      text-indent: -9999em;
      white-space: nowrap;
      width: 48px;
    }
  }
}
header {
  height:293px;
  margin-top:0;
  background:#fff;
  @media screen and (max-width: 1170px) {
    height:0;
    #menu{
      display: none;
    }
  }
  .fit{
    min-width: 320px;
    width:100%;
    position:relative;
    z-index: 18;
    top:0;
    left: 0;
    &.fixed{
      position:fixed;
      @media screen and (max-width: 1170px) {
        position:relative;
      }
    }
    a.logo{
      display: block;
      height: 200px;
      // opacity: 0;
      // margin-top: 20px;
      text-align: center;
      transition-duration: 0s;
      transition-delay: 0s;
      background:#fff;
      transform-origin:bottom center 0;
      @media screen and (max-width: 1170px) {
        display: none;
      }
      svg#logo{
        margin-top:50px;
        height: 60px;
        fill:#000;
        // transition-duration: 0.25s;
        // &:hover,&:focus,&:active{
        //   fill:$main-active-color;
        // }
      }
      img{
        transform: translateY(10px);
        height:50px;
        width:auto;
        transform-origin:bottom center 0;
      }
      @media screen and (max-width: 1170px) {
        background:rgba(0,0,0,0);
        position:fixed;
        top:0;
        left:50%;
        margin-left:-119px;
        height:96px;
        opacity: 1!important;

        svg#logo{
          height:50%;
          top:22%;
          fill:#fff;
          margin:0;
          z-index:50;
          position:relative;
          transition-duration: 0.25s;
          &:hover,&:focus,&:active{
            fill:$main-active-color;
          }
        }
      }
      @media screen and (max-width: 768px) {
        height:40px;
        left:50%;
        margin-left:-60px;
      }
    }
  }
  aside{
    background: #000;
    height:78px;
    @media screen and (max-width: 1170px) {
      height:30px;
      background: rgba(0,0,0,0);
      .marquee{
        margin-top:96px;
      }
    }
    @media screen and (max-width: 767px) {
      height:30px;
      .marquee{
        margin-top:40px;
      }
    }
  }
  #menu{
    width:988px;
    margin:0 auto;
    max-height: 78px;
    z-index: 1;
    ul{
      margin:0;
      padding:0;
      line-height: 78px;
      letter-spacing: 0;
      font-size: 0;
      display: inline;
      > li{
        vertical-align: top;
        text-align: center;
        list-style:none;
        letter-spacing: 1px;
        display: inline-block;
        height: 100%;
        font-size: 14px;
        letter-spacing: 0;
        transition-duration: 0.25s;
        &:hover{
          div{
            ol, .center{
              line-height: 30px!important;
              height:auto!important;
              opacity: 1!important;
              margin:20px auto 20px!important;
              transition-duration: 0.55s!important;
              transition-property: margin opacity!important;
              font-family: text;
              font-weight: normal;
            }
          }
        }
        &:hover,&:nth-child(1) ~.active{
          color:#000;
          background:#fff;
          transition-duration: 0.55s;
          a,a:active,a:focus{
            color:inherit;
            transition-duration: 0.55s;
            color:rgba(0,0,0,0);
            position:relative;
            &:after{
              content:attr(title);
              font-weight: bold;
              display: block;
              position:absolute;
              width:100%;
              height:100%;
              color:#000;
              top:0;
              left:0;
              line-height: 80px;
              font-family:'microsoft jhenghei';
            }
          }
        }

        &.off{
          background:#000;
          a{
            color: #fff;
            &:after{
              display: none;
            }
          }
        }
        a{
          color:#fff;
          display: block;
          height: 100%;
          padding:0 20px;
          &:focus{
            color:#fff;
          }
        }
        &.ib-added {
          display: none;
        }
      }
      &.social{
        margin-left: 10px;
        display: inline;
        letter-spacing: 0;
        li{
          &:hover a{
            filter:invert(1);
          }
          &.active a{
            filter:invert(1);
          }
          a{
            font-size: percentage(16/14);
            padding: 0 10px;
            img{
              width:18px;
              height:18px;
            }
          }
          &.search{
            a{
              padding-right:10px;
            }
            div{
              .center{
                width:980px;
                height:0;
                overflow: hidden;
                margin:0 auto;
                padding:0;
                text-align:left;
                line-height:0;
                transition-duration: 0.25s;
              }
              i{
                font-size: percentage(22/14);
                color:#a4a5a5;
              }
            }
            input{
              font-family: 'PT Sans', sans-serif;
              width:940px;
              margin-left:10px;
              border:0;
              &:focus{
                border:0;
                outline:none!important;
              }
            }
          }
        }
      }
    }
    div{
      width:100%;
      background:#fff;
      position:absolute;
      display: block;
      left:0;
      z-index: 1;
      ol{
        display: block;
        width:980px;
        height:0;
        overflow: hidden;
        margin:0 auto;
        padding:0;
        text-align: left;
        line-height: 0;
        opacity: 0;
        transition-duration: 0.25s;
        padding: 0 15px;
        a{
          background:none;
          color:#000 !important;
          // border-right:1px solid #959595;
          line-height:14px;
          vertical-align: top;
          padding:0 0 2px;
          &:hover,&:active,&:focus{
            background:none;
            color:$main-active-color !important;
          }
          &:after{
            width:1px !important;
            background:#959595;
            height:13px !important;
            display: inline-block !important;
            content:' ';
            position: relative !important;
            margin:0 20px;

          }
        }
        li:first-child{
          a{
            &:before{
              width:1px !important;
              background:#959595;
              height:13px !important;
              display: inline-block !important;
              content:' ';
              position: relative !important;
              margin-right:20px;

            }
          }
        }
      }
    }
    &.mm-opened{
      z-index: 1;
    }
    &:hover ~.overlay:after{
      display: block;
      opacity: 1;
      height:100%;
      background:rgba(0,0,0,0.5);
      transition: opacity .5s linear 0s, height 0s linear 0s;
    }
    &:hover ~.overlay:before{
      opacity: 1;
    }
  }
  .marquee{
    background: rgba(255,255,255,0.7);
    // background: #FFF;
    text-align: center;
    height:35px;
    .cd-headline {
      max-height: 35px;
      .cd-words-wrapper::after{
        top:13px;
        height:60%;
      }
    }
    ul{
      display: inline-block;
      line-height: 30px;
      letter-spacing: 0;
      font-size: 12px;
      &:after{
        background-color:#aaa!important;
        height:18px;
      }
      li{
        color:#ff838a;
        letter-spacing: 0.1em;
        a{
          vertical-align: top;
          color:#ff838a;
          font-size: percentage(13/12);
            height: 100%;
          &:before {
            content: " ";
            display: inline-block;
            height: 100%;
            vertical-align: top;
          }
        }
        &:hover{
          span{
            font-style: italic;
            transition-duration: 0.5s;
          }
        }
        span{
          font-family: FontAwesome;
          color:#ff838a;
          display: inline-block;
          vertical-align: top;
          font-size: percentage(11/14);
          padding:0 1px;
        }
        &:first-child,&:last-child{
          line-height: 2em;
        }
        @media screen and (max-width: 767px) {
          &:nth-child(2){
            max-width:245px;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            vertical-align: middle;
          }
        }
      }
      @media screen and (max-width: 767px) {
        height:auto;
      }
    }
    a{
      color:#ff838a;
    }
  }
  .overlay{
    position:relative;
    @media screen and (max-width: 1170px) {
      display: none;
    }
    &:before{
      position:absolute;
      bottom:0;
      width:100%;
      height:500em;
      content:' ';
      background:#fff;
      left:0;
      z-index:-1;
      opacity:0;
    }
    &:after{
      transition: opacity .5s linear 0s, height 0s linear 0.5s;
      opacity: 0;
      position:fixed;
      display: block;
      width:100%;
      height:0;
      left:0;
      top:0;
      content:' ';
      background:rgba(0,0,0,0.5);
      z-index:-2;
    }
  }
}